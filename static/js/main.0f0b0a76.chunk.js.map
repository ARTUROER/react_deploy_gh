{"version":3,"sources":["Search.js","PanelAdd.js","Menu.js","Item.js","List.js","App.js","index.js"],"names":["Search","props","onChangeEvent","bind","e","target","value","toString","toLowerCase","this","onsearch","type","onChange","React","Component","PanelAdd","state","title","image","rating","cancelAction","createItem","onChangeImage","onChangeTitle","onChangeRating","onhide","setState","parseInt","preventDefault","onadd","className","onSubmit","name","onClick","Menu","newItemPanel","add","onCancel","Item","stars","onremove","id","Array","fill","console","log","onupdaterating","src","width","map","x","List","items","item","App","books","copyBooks","onSearch","addItem","remove","updateRating","initBooks","query","temp","res","forEach","indexOf","push","length","filter","index","findIndex","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.0f0b0a76.chunk.js","sourcesContent":["import React from 'react';\n\nclass Search extends React.Component{\n\n    constructor(props){\n        super(props);\n\n        this.onChangeEvent = this.onChangeEvent.bind(this);\n    }\n\n    onChangeEvent(e){\n        const query = e.target.value.toString().toLowerCase();\n        this.props.onsearch(e.target.value);\n    }\n\n    render(){\n        return(\n            <input type=\"text\" onChange={this.onChangeEvent} />\n        );\n    }\n}\n\nexport default Search;","import React from 'react';\n\nclass PanelAdd extends React.Component{\n\n    constructor(props){\n        super(props);\n\n        this.state ={\n            title: '',\n            image: '',\n            rating: 1\n        };\n\n        this.cancelAction = this.cancelAction.bind(this);\n        this.createItem = this.createItem.bind(this);\n        this.onChangeImage = this.onChangeImage.bind(this);\n        this.onChangeTitle = this.onChangeTitle.bind(this);\n        this.onChangeRating = this.onChangeRating.bind(this);\n    }\n\n    cancelAction(e){\n        this.props.onhide();\n    }\n\n    onChangeTitle(e){\n        this.setState({title: e.target.value});\n        \n    }\n    onChangeImage(e){\n        this.setState({image: e.target.value});\n    }\n    onChangeRating(e){\n        const rating = parseInt(e.target.value);\n        this.setState({rating: rating});\n    }\n\n    createItem(e){\n        e.preventDefault();\n        const title = this.state.title;\n        const image = this.state.image;\n        const rating = this.state.rating;\n        this.props.onadd({title: title, image: image, rating: rating});\n        this.cancelAction();\n    }\n\n    render(){\n        return(\n            <div className=\"new-item-panel-container\">\n                <div className=\"new-item-panel\">\n                    <form onSubmit={this.createItem}>\n                        <p>\n                        <label>Título del libro</label><br />\n                        <input type=\"text\" name=\"title\" className=\"input\" onChange={this.onChangeTitle} />\n                        </p>\n\n                        <p>\n                        <label>Nombre de imagen</label><br />\n                        <input type=\"text\" name=\"image\" className=\"input\" onChange={this.onChangeImage} />\n                        </p>\n\n                        <p>\n                        <label>Calificación</label><br />\n                        <select onChange={this.onChangeRating}>\n                            <option value=\"1\">1</option>\n                            <option value=\"2\">2</option>\n                            <option value=\"3\">3</option>\n                            <option value=\"4\">4</option>\n                            <option value=\"5\">5</option>\n                        </select>\n                        </p>\n                        <input type=\"submit\" className=\"button btn-blue\" value=\"Registrar libro\" />\n                        <button className=\"button btn-normal\" onClick={this.props.onhide}>Cancelar</button>\n                    </form>\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default PanelAdd;","import React, { Fragment } from 'react';\nimport './Menu.css';\nimport Search from './Search';\nimport PanelAdd from './PanelAdd';\n\nclass Menu extends React.Component{\n\n    constructor(props){\n        super(props);\n        this.state = {newItemPanel: false};\n\n        this.add = this.add.bind(this);\n        this.onCancel = this.onCancel.bind(this);\n    }\n\n    add(){\n     this.setState({newItemPanel: true});   \n    }\n\n    onCancel(){\n        this.setState({newItemPanel: false});   \n    }\n\n\n    render(){\n        return(\n            <div className=\"container\">\n                <div className=\"subcontainer\">\n                    <div className=\"logo\">{this.props.title}</div>\n                    <div className=\"search\">\n                        <Search onsearch={this.props.onsearch} />\n                    </div>\n                    <div className=\"actions\">\n                        <button onClick={this.add} className=\"button btn-blue\">+ Añadir nuevo libro</button>\n                    </div>\n                </div>\n                {(this.state.newItemPanel)?\n                 <PanelAdd onhide={this.onCancel} onadd={this.props.onadd} />\n                 : \n                 ''\n                 }\n            </div>\n        );\n    }\n}\n\nexport default Menu;","import React from 'react';\nimport './Item.css';\n\nclass Item extends React.Component{\n\n    constructor(props){\n        super(props);\n\n        this.state = {\n            title: '',\n            image: '',\n            rating: 1,\n            stars: []\n        }\n\n        this.onremove = this.onremove.bind(this);\n        this.onChangeRating = this.onChangeRating.bind(this);\n    }\n\n    componentDidMount(){\n        this.setState({\n            id: this.props.id,\n            title: this.props.title,\n            image: this.props.image,\n            rating: parseInt(this.props.rating),\n            stars: Array(parseInt(this.props.rating)).fill(1)\n        });\n    }\n\n    onremove(e){\n        console.log(this.props.id);\n        this.props.onremove(this.props.id);\n    }\n\n    onChangeRating(e){\n        const rating = parseInt(e.target.value)\n        this.setState({\n            rating: parseInt(e.target.value),\n            stars: Array(parseInt(e.target.value)).fill(1)\n        });\n\n        this.props.onupdaterating({id: this.state.id, title: this.state.title, image: this.state.image, rating: rating});\n    }\n\n    render(){\n        return(\n            <div className=\"item\">\n                <div className=\"image\"><img src={'img/' + this.state.image} width=\"100%\" /></div>\n                <div className=\"title\">{this.state.title}</div>\n                <div className=\"rating\">\n                    <p>\n                    {this.state.stars.map(x =>\n                        <img src='img/star.png' width='32' />\n                    )}\n                    </p>\n                    Calificación: \n                    <select value={this.state.rating} onChange={this.onChangeRating}>\n                        <option value=\"1\">1</option>\n                        <option value=\"2\">2</option>\n                        <option value=\"3\">3</option>\n                        <option value=\"4\">4</option>\n                        <option value=\"5\">5</option>\n                    </select>\n                </div>\n                <div className=\"actions\">\n                    <button onClick={this.onremove}>Eliminar</button>\n                </div>\n            </div>\n        );\n    }\n\n}\n\nexport default Item;","import React from 'react';\nimport Item from './Item';\nimport './List.css';\n\nfunction List(props){\n    return(\n        <div className=\"list\">\n            {props.items.map(item =>\n                <Item \n                    key={item.id} \n                    id={item.id} \n                    title={item.title} \n                    image={item.image} \n                    rating={item.rating} \n                    onremove={props.onremove}\n                    onupdaterating={props.onupdaterating} />\n            )}\n        </div>\n    );\n}\n\n\nexport default List;","import React from 'react';\nimport './App.css';\nimport Menu from './Menu';\nimport List from './List';\n\nclass App extends React.Component{\n\n  constructor(props){\n    super(props);\n    this.state = {\n      books:[\n        {id:0, rating: 4, title: 'Harry Potter y el cáliz de fuego', image: 'libro01.jpg'},\n        {id:1, rating: 3, title: 'The shining', image: 'libro02.jpg'},\n        {id:2, rating: 5, title: 'Código Da Vinci', image: 'libro03.jpg'},\n        {id:3, rating: 5, title: 'El principito', image: 'libro04.jpg'},\n        {id:4, rating: 5, title: 'Sobrenatural', image: 'libro05.jpg'}\n      ],\n      copyBooks: []\n    };\n\n    this.onSearch = this.onSearch.bind(this);\n    this.addItem = this.addItem.bind(this);\n    this.remove = this.remove.bind(this);\n    this.updateRating = this.updateRating.bind(this);\n  }\n\n  initBooks(){\n    //this.setState({copyBooks: [...this.state.books]});\n    this.setState((state,props) => ({\n      copyBooks: [...state.books]\n    }));\n  }\n\n  componentDidMount(){\n    this.initBooks();\n  }\n\n  onSearch(query){\n    if(query === ''){\n      this.setState({copyBooks: [...this.state.books]});\n    }else{\n\n      const temp = [...this.state.books];\n      var res = [];\n      temp.forEach(item =>{\n        if(item.title.toLowerCase().indexOf(query) > -1){\n          res.push(item);\n        }\n      });\n    \n      this.setState({copyBooks: [...res]});\n    }\n  }\n\n  addItem(item){\n    var temp = [...this.state.books];\n    const id = temp[temp.length-1].id + 1;\n    item['id'] = id;\n    temp.push(item);\n    this.setState({books: [...temp]});\n    this.initBooks();\n  }\n\n  remove(id){\n    var temp = [...this.state.books];\n    const res = temp.filter(item => item.id != id);\n    this.setState({books: [...res]});\n    this.initBooks();\n  }\n\n  updateRating(item){\n    var temp = [...this.state.books];\n    const index = temp.findIndex(x => x.id === item.id);\n    temp[index].title = item.title;\n    temp[index].image = item.image;\n    temp[index].rating = item.rating;\n\n    this.setState({books: [...temp]});\n    this.initBooks();\n  }\n\n  render(){\n    return (\n      <div className=\"app\">\n        <Menu title=\"Amozon\" onsearch={this.onSearch} onadd={this.addItem} />\n        <List className=\"list\" items={this.state.copyBooks} onremove={this.remove} onupdaterating={this.updateRating} />\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}